# Context Assembler Hobgoblin

## Purpose

The Context Assembler gathers relevant information from Si's knowledge systems to inform decision-making. It pulls from consciousness, working memory, and episodic memory to build a complete picture of the situation.

## Responsibilities

1. **Identify Relevant Context**: Determine what information is needed
2. **Retrieve Information**: Gather from consciousness, working memory, episodic memory
3. **Assemble Context**: Organize information in useful way
4. **Provide to Hobgoblins**: Make context available to other hobgoblins

## What Context Assembler Gathers

### From Consciousness
- **Relevant Mandates**: What values apply to this situation?
- **Relevant Capabilities**: What can Si do?
- **Relevant Governance**: What constraints apply?
- **Relevant Identity**: What aspects of Si's identity matter here?

### From Working Memory
- **Conversation History**: What's been discussed?
- **Turn Trace**: What happened in previous turns?
- **Current Context**: What's the immediate situation?
- **Parallel Turn Information**: What are other turns doing?

### From Episodic Memory
- **Similar Situations**: What similar situations has Si encountered?
- **Learned Patterns**: What patterns apply here?
- **Relevant Skills**: What skills are relevant?
- **Relevant Experiences**: What experiences inform this situation?

## Decision Inputs

Context Assembler makes decisions using:

### Consciousness
- **Relevance Criteria**: What information is relevant?
- **Governance**: Are there constraints on what information to gather?
- **Values**: What information is most important?

### Working Memory
- **Current Situation**: What's the context?
- **Available Information**: What's already known?

### Episodic Memory
- **Similar Situations**: What context was relevant before?
- **Learned Patterns**: What information patterns work well?

### Input
- **Query**: What is being asked?
- **Constraints**: Are there limitations on what information to gather?

## Context Assembly Process

```
Router activates Context Assembler
    ↓
Context Assembler analyzes input:
  - What information is needed?
  - Where should it come from?
  - What's the priority?
    ↓
Retrieve from consciousness:
  - Relevant mandates
  - Relevant capabilities
  - Relevant governance
  - Relevant identity
    ↓
Retrieve from working memory:
  - Conversation history
  - Turn trace
  - Current context
  - Parallel turn information
    ↓
Retrieve from episodic memory:
  - Similar situations
  - Learned patterns
  - Relevant skills
  - Relevant experiences
    ↓
Assemble context:
  - Organize information
  - Prioritize by relevance
  - Remove redundancy
  - Create coherent picture
    ↓
Provide to other hobgoblins
```

## Parallelism

Context Assembler can run in parallel with other hobgoblins:

```
Context Assembler ──┐
                    ├─→ Synchronization Point ──→ Plan Generator
Constraint Checker ─┤
                    │
Router ─────────────┘
```

Multiple hobgoblins can gather context simultaneously, then synchronize before proceeding.

## Learning Through Context Assembler

Context Assembler improves through the learning loop:

**Feedback Sources**:
- Was the gathered context relevant?
- Was important context missing?
- Did the context help other hobgoblins make good decisions?
- Was irrelevant context included?

**Learning Updates**:
- Episodic Memory: Store what context was relevant for similar situations
- Skills: Improve context relevance assessment
- Consciousness: Refine relevance criteria if needed

**Example**:
- Turn 1: Context Assembler gathers user's budget, travel history, environmental values
- Plan Generator uses this context to create good plan
- Evaluator: Plan was effective → GOOD
- Reflector: Learn "For travel queries, these three pieces of context are always relevant"

## Key Principle

**Context Assembler enables informed decisions.** By gathering relevant information upfront, Context Assembler ensures that other hobgoblins (Plan Generator, Executor, etc.) have the information they need to make good decisions.

